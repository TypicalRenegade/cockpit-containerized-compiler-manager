<!DOCTYPE html>
<html>
  <head>
    <title>Compiling Container Manager</title>
    <meta charset="utf-8">
    <!-- <link href="manager.css" type="text/css" rel="stylesheet"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="../base1/cockpit.js"></script>
    <script type="module" src="long-running-process.js"></script>
    <script type="module" src="manager.js"></script>
    <title>Compiling Manager</title>
  </head>
  <body>
    <main tabindex="-1">
      <section>
        <div>
          <div>
            <label>Compile Veloren</label>
            <div>
              <label for="state">State:</label>
              <span id="state"></span></p>
              <input type="checkbox" id="clone_or_fetch_veloren" name="Clone or Update Veloren" value="\
if test -d /srv/veloren;\
then\
  cd /srv/veloren;\
  git fetch https://github.com/veloren/veloren.git;\
else\
  git clone https://github.com/veloren/veloren.git;\
  cd /srv/veloren;\
fi;">
              <label for="clone_or_fetch_veloren"> Clone or Update Veloren</label><br>
              <input type="checkbox" id="compile_for_windows" name="Compile Veloren for Windows" value="\
cd /srv/veloren;\
cargo build --release --target x86_64-pc-windows-gnu;">
<!-- cross building doesn't seem to work with compiling veloren. So should I make buttons for how rust programs are compiled? -->
<!-- KG_CONFIG_SYSROOT_DIR=Z cargo build --release --target x86_64-pc-windows-gnu;"> -->
<!-- cross build --target x86_64-pc-windows-msvc --release;"> -->

              <label for="compile_for_windows"> Compile Veloren for Windows</label><br>
              <input type="checkbox" id="compile_for_linux" name="Compile Veloren for Linux" value="\
cd /srv/veloren;\
cargo build --release;">
<!-- cross build --target x86_64-unknown-linux-gnu --release;"> -->

              <label for="compile_for_linux"> Compile Veloren for Linux</label><br>
              <input type="checkbox" id="run_linux_server" name="Run Veloren Server" value="\
cd /srv/veloren;\
cargo run --bin veloren-server-cli --release;">
              <label for="run_linux_server"> Run Veloren Server</label><br>
            </div>
            <div>
              <!-- Do I want to have an option of what to do? (e.g. fetch or clone program source, build, build for windows or linux) -->
              <textarea id="command" rows="2" cols = "10" wrap="soft"> </textarea>
              <button id="run" disabled>Start</button>
            </div>
            <pre id="output"></pre>
          </div>
          <div>
            <label>Godot Game Engine</label>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
